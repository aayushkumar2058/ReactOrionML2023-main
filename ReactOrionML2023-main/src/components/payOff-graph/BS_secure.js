(function(_0x307462,_0x210afe){var _0x3e6af3=_0x2fc5,_0x5b54c9=_0x307462();while(!![]){try{var _0xf0b7b=parseInt(_0x3e6af3(0x132))/0x1+parseInt(_0x3e6af3(0x11e))/0x2+-parseInt(_0x3e6af3(0x136))/0x3+-parseInt(_0x3e6af3(0x133))/0x4+-parseInt(_0x3e6af3(0x13f))/0x5+parseInt(_0x3e6af3(0x148))/0x6+parseInt(_0x3e6af3(0x14f))/0x7;if(_0xf0b7b===_0x210afe)break;else _0x5b54c9['push'](_0x5b54c9['shift']());}catch(_0x895186){_0x5b54c9['push'](_0x5b54c9['shift']());}}}(_0x4936,0xd9c4d));function dateDiffInDays(_0x4d111d,_0x29adc2){var _0x10cfd9=_0x2fc5;const _0x6a5fee=0x3e8*0x3c*0x3c*0x18,_0x168f5e=Date['UTC'](_0x29adc2[_0x10cfd9(0x119)](),_0x29adc2[_0x10cfd9(0x11c)](),_0x29adc2[_0x10cfd9(0x124)]()),_0x972da6=Date['UTC'](_0x4d111d[_0x10cfd9(0x119)](),_0x4d111d[_0x10cfd9(0x11c)](),_0x4d111d[_0x10cfd9(0x124)]());return Math[_0x10cfd9(0x158)]((_0x972da6-_0x168f5e)/_0x6a5fee);}function fn_TimetoExpiry(_0x21c6c0){var _0x3cdd42=_0x2fc5;TotalLegs_Count=_0x21c6c0[_0x3cdd42(0x123)],LOT_SIZE=_0x21c6c0[_0x3cdd42(0x147)];var _0x4534f0=0x1;for(let _0x40df1d=0x0;_0x40df1d<TotalLegs_Count;_0x40df1d++){var _0x4a67c0=new Date(_0x21c6c0[_0x3cdd42(0x11a)][_0x40df1d][_0x3cdd42(0x116)]),_0x383cb2=new Date(),_0x1858f0;_0x4534f0===0x1?(_0x4534f0=0x0,new_val=dateDiffInDays(_0x4a67c0,_0x383cb2),_0x1858f0=new_val):(new_val=dateDiffInDays(_0x4a67c0,_0x383cb2),new_val<_0x1858f0&&(_0x1858f0=new_val));}return _0x1858f0;}function ncdf(_0x628891,_0x3fa8d0,_0x5a8ae7){var _0x9082e5=_0x2fc5,_0x628891=(_0x628891-_0x3fa8d0)/_0x5a8ae7,_0x72c4d3=0x1/(0x1+0.2315419*Math[_0x9082e5(0x13d)](_0x628891)),_0x36afc1=0.3989423*Math[_0x9082e5(0x117)](-_0x628891*_0x628891/0x2),_0x1cd057=_0x36afc1*_0x72c4d3*(0.3193815+_0x72c4d3*(-0.3565638+_0x72c4d3*(1.781478+_0x72c4d3*(-1.821256+_0x72c4d3*1.330274))));if(_0x628891>0x0)_0x1cd057=0x1-_0x1cd057;return _0x1cd057;}function _0x4936(){var _0xdb9ea1=['lot_size','63144UmJSVU','call_rho',')\x20Gold\x20Pay\x20Off\x20(','FLOC:\x20fn_common_payoff_calc_PROF\x20OVERALL\x20...\x20calc_type\x20:','PL_Ratio','call_theta','BKEven','9887171nrAPIn','BKEven_index','\x20\x20Time\x20to\x20expire...:\x20','max_loss','CURRENT','index','--\x20Spot\x20Index(','@Rs\x20',')\x20--','floor','PAYOFF\x20Leg\x20#','max_profit','vega','EXPIRY','expiry_date','exp','target_PNL','getFullYear','txns','log','getMonth','push','3139994dwjpta','put_premium','gamma','My\x20JSON\x20ALL\x20Grid\x20Profit\x20and\x20Greeks\x20is\x20-->\x20','LTP','txn_count','getDate','BS\x20Premium\x20(','orig_txn_price','put_theta','txn_PE_CE','put_rho','length','Greeks_Table','BKEven_Text_Final','sqrt','Delta','call_premium','ADJUSTED','target_price','372623EUpReg','5526120KJWLHP','entry_price','strike_price','1478907CSCcLq','Unlimited','position','put_delta','call_delta','FLOC\x20:breakeven_calc_on_expiry\x20....\x20OVERALL\x20\x20\x20Time\x20to\x20expire\x20:\x20','Gamma','abs','projected_payoff','2995585oVjPXK','PNL_Table','FLOC\x20:projected_payoff_withSPOTandExpiry\x20OVERALL\x20\x20Time\x20to\x20expire\x20:\x20','Leg\x20#:','Theta','Decay','toFixed','txn_type'];_0x4936=function(){return _0xdb9ea1;};return _0x4936();}function xlfNormSDist(_0x55f54b){var _0x4fa8a8=_0x2fc5,_0x1503b1=0.2316419,_0x3ba31d=0.31938153,_0x53a430=-0.356563782,_0x8081b=1.781477937,_0xf79c79=-1.821255978,_0x5f2c80=1.330274429;if(_0x55f54b<0x0)return 0x1-xlfNormSDist(-_0x55f54b);else var _0x2f7021=0x1/(0x1+_0x1503b1*_0x55f54b);return 0x1-Math[_0x4fa8a8(0x117)](-_0x55f54b*_0x55f54b/0x2)/Math['sqrt'](0x2*Math['PI'])*_0x2f7021*(_0x3ba31d+_0x2f7021*(_0x53a430+_0x2f7021*(_0x8081b+_0x2f7021*(_0xf79c79+_0x2f7021*_0x5f2c80))));}function bs_gold(_0x336a0c,_0x45553a,_0x1a120a,_0x4a3f57,_0x4707af,_0x18104d=0x0,_0x22a69f=0x16d){var _0x4afe2e=_0x2fc5;return sigma=_0x4a3f57/0x64,t=_0x1a120a/_0x22a69f,_0x4707af=_0x4707af/0x64,_0x18104d=_0x18104d/0x64,d1=(Math['log'](_0x336a0c/_0x45553a)+(_0x4707af-_0x18104d+0.5*sigma**0x2)*t)/(sigma*Math[_0x4afe2e(0x12d)](t)),Nd1=xlfNormSDist(d1),d2=d1-sigma*Math[_0x4afe2e(0x12d)](t),Nd2=xlfNormSDist(d2),S0=_0x336a0c,call_premium=Math['exp'](-_0x18104d*t)*S0*xlfNormSDist(d1)-_0x45553a*Math['exp'](-_0x4707af*t)*xlfNormSDist(d1-sigma*Math[_0x4afe2e(0x12d)](t)),put_premium=_0x45553a*Math[_0x4afe2e(0x117)](-_0x4707af*t)*xlfNormSDist(-d2)-Math['exp'](-_0x18104d*t)*S0*xlfNormSDist(-d1),{'call_premium':call_premium,'put_premium':put_premium};}function bs_greeks(_0x47aa01,_0x173d67,_0x30b648,_0x44c24a,_0xe30726,_0xe1746b=0x0,_0x41fe2b=0x16d){var _0xa9326f=_0x2fc5;sigma=_0x44c24a/0x64,t=_0x30b648/_0x41fe2b,_0xe30726=_0xe30726/0x64,_0xe1746b=_0xe1746b/0x64,d1=(Math[_0xa9326f(0x11b)](_0x47aa01/_0x173d67)+(_0xe30726-_0xe1746b+0.5*sigma**0x2)*t)/(sigma*Math['sqrt'](t)),Nd1=xlfNormSDist(d1),d2=d1-sigma*Math[_0xa9326f(0x12d)](t),Nd2=xlfNormSDist(d2),S0=_0x47aa01,Math['pi']=0x16/0x7,call_premium=Math[_0xa9326f(0x117)](-_0xe1746b*t)*S0*xlfNormSDist(d1)-_0x173d67*Math['exp'](-_0xe30726*t)*xlfNormSDist(d1-sigma*Math[_0xa9326f(0x12d)](t)),put_premium=_0x173d67*Math[_0xa9326f(0x117)](-_0xe30726*t)*xlfNormSDist(-d2)-Math['exp'](-_0xe1746b*t)*S0*xlfNormSDist(-d1),call_theta=(-(S0*sigma*Math[_0xa9326f(0x117)](-_0xe1746b*t)/(0x2*Math[_0xa9326f(0x12d)](t))*(0x1/Math[_0xa9326f(0x12d)](0x2*Math['pi']))*Math[_0xa9326f(0x117)](-(d1*d1)/0x2))-_0xe30726*_0x173d67*Math[_0xa9326f(0x117)](-_0xe30726*t)*xlfNormSDist(d2)+_0xe1746b*Math[_0xa9326f(0x117)](-_0xe1746b*t)*S0*xlfNormSDist(d1))/_0x41fe2b,put_theta=(-(S0*sigma*Math[_0xa9326f(0x117)](-_0xe1746b*t)/(0x2*Math[_0xa9326f(0x12d)](t))*(0x1/Math[_0xa9326f(0x12d)](0x2*Math['pi']))*Math['exp'](-(d1*d1)/0x2))+_0xe30726*_0x173d67*Math[_0xa9326f(0x117)](-_0xe30726*t)*xlfNormSDist(-d2)-_0xe1746b*Math[_0xa9326f(0x117)](-_0xe1746b*t)*S0*xlfNormSDist(-d1))/_0x41fe2b,call_delta=Math[_0xa9326f(0x117)](-_0xe1746b*t)*xlfNormSDist(d1),put_delta=Math[_0xa9326f(0x117)](-_0xe1746b*t)*(xlfNormSDist(d1)-0x1),gamma=Math[_0xa9326f(0x117)](-_0xe30726*t)/(S0*sigma*Math[_0xa9326f(0x12d)](t))*(0x1/Math[_0xa9326f(0x12d)](0x2*Math['pi']))*Math['exp'](-(d1*d1)/0x2),vega=0x1/0x64*S0*Math['exp'](-_0xe30726*t)*Math['sqrt'](t)*(0x1/Math[_0xa9326f(0x12d)](0x2*Math['pi'])*Math[_0xa9326f(0x117)](-(d1*d1)/0x2)),call_rho=0x1/0x64*_0x173d67*t*Math[_0xa9326f(0x117)](-_0xe30726*t)*xlfNormSDist(d2),put_rho=-0x1/0x64*_0x173d67*t*Math[_0xa9326f(0x117)](-_0xe30726*t)*xlfNormSDist(-d2);var _0x3d611a={'call_premium':0x0,'put_premium':0x0,'call_theta':0x0,'put_theta':0x0,'call_delta':0x0,'put_delta':0x0,'gamma':0x0,'vega':0x0,'call_rho':0x0,'put_rho':0x0};return _0x3d611a[_0xa9326f(0x12f)]=call_premium,_0x3d611a[_0xa9326f(0x11f)]=put_premium,_0x3d611a[_0xa9326f(0x14d)]=call_theta,_0x3d611a[_0xa9326f(0x127)]=put_theta,_0x3d611a[_0xa9326f(0x13a)]=call_delta,_0x3d611a[_0xa9326f(0x139)]=put_delta,_0x3d611a[_0xa9326f(0x120)]=gamma,_0x3d611a[_0xa9326f(0x114)]=vega,_0x3d611a[_0xa9326f(0x149)]=call_rho,_0x3d611a[_0xa9326f(0x129)]=put_rho,_0x3d611a;}function bs_greeks_FULL_LOT(_0x295e2d,_0xbb463e){var _0x573989=_0x2fc5,_0x5f37c8={'call_premium':0x0,'put_premium':0x0,'call_theta':0x0,'put_theta':0x0,'call_delta':0x0,'put_delta':0x0,'gamma':0x0,'vega':0x0,'call_rho':0x0,'put_rho':0x0};return _0x5f37c8[_0x573989(0x12f)]=_0x295e2d[_0x573989(0x12f)]*_0xbb463e,_0x5f37c8[_0x573989(0x11f)]=_0x295e2d['put_premium']*_0xbb463e,_0x5f37c8['call_theta']=_0x295e2d['call_theta']*_0xbb463e,_0x5f37c8[_0x573989(0x127)]=_0x295e2d['put_theta']*_0xbb463e,_0x5f37c8[_0x573989(0x13a)]=_0x295e2d[_0x573989(0x13a)]*_0xbb463e,_0x5f37c8[_0x573989(0x139)]=_0x295e2d[_0x573989(0x139)]*_0xbb463e,_0x5f37c8['gamma']=_0x295e2d['gamma']*_0xbb463e,_0x5f37c8[_0x573989(0x114)]=_0x295e2d[_0x573989(0x114)]*_0xbb463e,_0x5f37c8[_0x573989(0x149)]=_0x295e2d[_0x573989(0x149)]*_0xbb463e,_0x5f37c8['put_rho']=_0x295e2d[_0x573989(0x129)]*_0xbb463e,_0x5f37c8;}function fn_check_UnlimitedPayoff(_0x32f5a8){var _0x4a9428=_0x2fc5,_0x28b6bb=0x0,_0x4c7ec2=0x0,_0x4ffbf7=0x0,_0x263995=0x0;for(let _0x574ba8=0x0;_0x574ba8<TotalLegs_Count;_0x574ba8++){Txn_PE_CE_FLAG=_0x32f5a8[_0x4a9428(0x11a)][_0x574ba8][_0x4a9428(0x128)],Txn_Buy_Sell_Flag=_0x32f5a8[_0x4a9428(0x11a)][_0x574ba8][_0x4a9428(0x146)],Txn_PE_CE_FLAG==='PE'?Txn_Buy_Sell_Flag==='B'?_0x28b6bb=_0x28b6bb+0x1:_0x4c7ec2=_0x4c7ec2+0x1:Txn_Buy_Sell_Flag==='B'?_0x4ffbf7=_0x4ffbf7+0x1:_0x263995=_0x263995+0x1;}var _0x2e579d,_0x6781f1;return(_0x4c7ec2>_0x28b6bb||_0x263995>_0x4ffbf7)&&(_0x2e579d=_0x4a9428(0x137)),(_0x4c7ec2<_0x28b6bb||_0x263995<_0x4ffbf7)&&(_0x6781f1=_0x4a9428(0x137)),[_0x6781f1,_0x2e579d];}function projected_payoff_withSPOTandExpiry(_0x12d088,_0x515b60,_0x4c9766){var _0x51d0cf=_0x2fc5,_0x2894d2={'projected_payoff':0x0,'Greeks_Table':[],'PNL_Table':[]},_0x322006=[],_0x551939=[];Time_to_Expiry=fn_TimetoExpiry(_0x12d088),console[_0x51d0cf(0x11b)](_0x51d0cf(0x141)+Time_to_Expiry),TOTAL_PAYOFF_FOR_ALL_LEGS=0x0,TotalLegs_Count=_0x12d088[_0x51d0cf(0x123)],LOT_SIZE=_0x12d088['lot_size'];for(let _0x451edc=0x0;_0x451edc<TotalLegs_Count;_0x451edc++){var _0x523317={'index':0x0,'position':'','target_PNL':0x0,'target_price':0x0,'entry_price':0x0,'LTP':0x0},_0x41f78b={'position':'','Delta':0x0,'Theta':0x0,'Decay':0x0,'Gamma':0x0,'Vega':0x0};Txn_Strike=_0x12d088[_0x51d0cf(0x11a)][_0x451edc][_0x51d0cf(0x135)],Txn_PE_CE_FLAG=_0x12d088['txns'][_0x451edc][_0x51d0cf(0x128)],Txn_expiry_date=_0x12d088['txns'][_0x451edc][_0x51d0cf(0x116)],Txn_Buy_Sell_Flag=_0x12d088['txns'][_0x451edc]['txn_type'],Txn_INITIAL_PRICE=_0x12d088[_0x51d0cf(0x11a)][_0x451edc][_0x51d0cf(0x126)],Txn_iv=_0x12d088[_0x51d0cf(0x11a)][_0x451edc]['iv'];var _0x426a5c=new Date(_0x12d088[_0x51d0cf(0x11a)][_0x451edc]['expiry_date']),_0x579d6e=new Date();gpos_Time_to_Expiry=dateDiffInDays(_0x426a5c,_0x579d6e)-_0x515b60+1e-25,BS_Answer_Key=bs_gold(_0x4c9766,Txn_Strike,gpos_Time_to_Expiry,Txn_iv,0x7),call_premium=BS_Answer_Key[_0x51d0cf(0x12f)],put_premium=BS_Answer_Key[_0x51d0cf(0x11f)];Txn_PE_CE_FLAG==='PE'?SQUARE_OFF_PRICE=put_premium:SQUARE_OFF_PRICE=call_premium;Txn_Buy_Sell_Flag==='B'?LEG_PAYOFF=SQUARE_OFF_PRICE-Txn_INITIAL_PRICE:LEG_PAYOFF=Txn_INITIAL_PRICE-SQUARE_OFF_PRICE;TOTAL_PAYOFF_FOR_ALL_LEGS=TOTAL_PAYOFF_FOR_ALL_LEGS+LEG_PAYOFF,debug_text=_0x51d0cf(0x159)+_0x451edc+':\x20'+Txn_PE_CE_FLAG+_0x51d0cf(0x155)+_0x4c9766+')\x20--'+Txn_Strike+'--'+Txn_expiry_date+'--'+'@Rs\x20'+Txn_INITIAL_PRICE+_0x51d0cf(0x125)+SQUARE_OFF_PRICE+')\x20Gold\x20Pay\x20Off\x20('+LEG_PAYOFF+')',_0x523317[_0x51d0cf(0x154)]=_0x451edc,_0x523317[_0x51d0cf(0x138)]=Txn_Strike+'-'+Txn_PE_CE_FLAG+'-'+Txn_Buy_Sell_Flag,_0x523317[_0x51d0cf(0x118)]=LEG_PAYOFF,_0x523317[_0x51d0cf(0x131)]=SQUARE_OFF_PRICE,_0x523317[_0x51d0cf(0x134)]=Txn_INITIAL_PRICE,_0x523317[_0x51d0cf(0x122)]=Txn_INITIAL_PRICE,_0x551939[_0x51d0cf(0x11d)](_0x523317),BS_Greeks_Key=bs_greeks(_0x4c9766,Txn_Strike,gpos_Time_to_Expiry,Txn_iv,0x7);var _0x5b5641=bs_greeks_FULL_LOT(BS_Greeks_Key,LOT_SIZE);Txn_PE_CE_FLAG==='PE'?(_0x41f78b[_0x51d0cf(0x138)]=Txn_Strike+'-'+Txn_PE_CE_FLAG+'-'+Txn_Buy_Sell_Flag,_0x41f78b[_0x51d0cf(0x12e)]=_0x5b5641[_0x51d0cf(0x139)][_0x51d0cf(0x145)](0x3),_0x41f78b[_0x51d0cf(0x143)]=_0x5b5641[_0x51d0cf(0x127)][_0x51d0cf(0x145)](0x3),_0x41f78b[_0x51d0cf(0x144)]=0x0,_0x41f78b[_0x51d0cf(0x13c)]=_0x5b5641[_0x51d0cf(0x120)][_0x51d0cf(0x145)](0x3),_0x41f78b['Vega']=_0x5b5641[_0x51d0cf(0x114)][_0x51d0cf(0x145)](0x3),Txn_Buy_Sell_Flag==='S'&&(_0x41f78b['Delta']=-_0x5b5641[_0x51d0cf(0x139)]['toFixed'](0x3),_0x41f78b['Theta']=-_0x5b5641[_0x51d0cf(0x127)]['toFixed'](0x3))):(_0x41f78b[_0x51d0cf(0x138)]=Txn_Strike+'-'+Txn_PE_CE_FLAG+'-'+Txn_Buy_Sell_Flag,_0x41f78b[_0x51d0cf(0x12e)]=_0x5b5641['call_delta']['toFixed'](0x3),_0x41f78b[_0x51d0cf(0x143)]=_0x5b5641[_0x51d0cf(0x14d)][_0x51d0cf(0x145)](0x3),_0x41f78b['Decay']=0x0,_0x41f78b['Gamma']=_0x5b5641['gamma']['toFixed'](0x3),_0x41f78b['Vega']=_0x5b5641['vega']['toFixed'](0x3),Txn_Buy_Sell_Flag==='S'&&(_0x41f78b[_0x51d0cf(0x12e)]=-_0x5b5641[_0x51d0cf(0x13a)]['toFixed'](0x3),_0x41f78b[_0x51d0cf(0x143)]=-_0x5b5641[_0x51d0cf(0x14d)][_0x51d0cf(0x145)](0x3))),_0x322006[_0x51d0cf(0x11d)](_0x41f78b);}return _0x2894d2[_0x51d0cf(0x13e)]=(TOTAL_PAYOFF_FOR_ALL_LEGS*LOT_SIZE)[_0x51d0cf(0x145)](0x2),_0x2894d2[_0x51d0cf(0x12b)]=_0x322006,_0x2894d2[_0x51d0cf(0x140)]=_0x551939,console[_0x51d0cf(0x11b)](_0x51d0cf(0x121),_0x2894d2),_0x2894d2;}function _0x2fc5(_0x667bf8,_0x16d7d6){var _0x4936ec=_0x4936();return _0x2fc5=function(_0x2fc533,_0x55b6cb){_0x2fc533=_0x2fc533-0x113;var _0x36203a=_0x4936ec[_0x2fc533];return _0x36203a;},_0x2fc5(_0x667bf8,_0x16d7d6);}function breakeven_calc_on_expiry(_0x1393d4){var _0x92cf87=_0x2fc5,_0x2c1715=[],_0x2af6a8='',_0x510a1c='',_0x390172='',_0x38b10c='',_0x2378aa='',_0x607c58=0x1;Time_to_Expiry=fn_TimetoExpiry(_0x1393d4),console[_0x92cf87(0x11b)](_0x92cf87(0x13b)+Time_to_Expiry),TotalLegs_Count=_0x1393d4[_0x92cf87(0x123)],LOT_SIZE=_0x1393d4[_0x92cf87(0x147)],CURRENT_SPOT=_0x1393d4['Current_Spot'];for(let _0x2b9aa4=CURRENT_SPOT-0x514;_0x2b9aa4<=CURRENT_SPOT+0x514;_0x2b9aa4=_0x2b9aa4+0x1){TOTAL_PAYOFF_FOR_ALL_LEGS=0x0;for(let _0x3ddf69=0x0;_0x3ddf69<TotalLegs_Count;_0x3ddf69++){Txn_Strike=_0x1393d4[_0x92cf87(0x11a)][_0x3ddf69][_0x92cf87(0x135)];var _0x13dbf8=new Date(_0x1393d4[_0x92cf87(0x11a)][_0x3ddf69][_0x92cf87(0x116)]),_0x276dfe=new Date();gpos_Time_to_Expiry=dateDiffInDays(_0x13dbf8,_0x276dfe)-Time_to_Expiry+1e-25,Txn_PE_CE_FLAG=_0x1393d4[_0x92cf87(0x11a)][_0x3ddf69][_0x92cf87(0x128)],Txn_expiry_date=_0x1393d4['txns'][_0x3ddf69][_0x92cf87(0x116)],Txn_Buy_Sell_Flag=_0x1393d4[_0x92cf87(0x11a)][_0x3ddf69]['txn_type'],Txn_INITIAL_PRICE=_0x1393d4[_0x92cf87(0x11a)][_0x3ddf69][_0x92cf87(0x126)],Txn_iv=_0x1393d4[_0x92cf87(0x11a)][_0x3ddf69]['iv'],BS_Answer_Key=bs_gold(_0x2b9aa4,Txn_Strike,gpos_Time_to_Expiry,Txn_iv,0x7),call_premium=BS_Answer_Key['call_premium'],put_premium=BS_Answer_Key['put_premium'],Txn_PE_CE_FLAG==='PE'?SQUARE_OFF_PRICE=put_premium:SQUARE_OFF_PRICE=call_premium,Txn_Buy_Sell_Flag==='B'?LEG_PAYOFF=SQUARE_OFF_PRICE-Txn_INITIAL_PRICE:LEG_PAYOFF=Txn_INITIAL_PRICE-SQUARE_OFF_PRICE,TOTAL_PAYOFF_FOR_ALL_LEGS=TOTAL_PAYOFF_FOR_ALL_LEGS+LEG_PAYOFF;}TOTAL_PAYOFF_FOR_ALL_LEGS>0x0&&(_0x510a1c='+'),TOTAL_PAYOFF_FOR_ALL_LEGS<0x0&&(_0x510a1c='-'),_0x2af6a8!==_0x510a1c&&_0x607c58===0x0&&(BreakEvenRight=_0x2b9aa4,_0x2c1715[_0x92cf87(0x11d)]({'BKEven_index':BreakEvenRight})),_0x2af6a8=_0x510a1c,_0x607c58=0x0;}return _0x2c1715;}function fn_common_payoff_calc_PROF(_0x2fb5ab,_0x430872,_0x2b99c6){var _0x7fb872=_0x2fc5,_0x5a492c={'max_profit':0x0,'max_loss':0x0,'PL_Ratio':0x0,'POP':0x0,'BKEven':[],'BKEven_Text_Final':'','data':[]},_0x2c57b5=0x0,_0x621da9=0x0;Time_to_Expiry=fn_TimetoExpiry(_0x430872),console[_0x7fb872(0x11b)](_0x7fb872(0x14b)+_0x2fb5ab+_0x7fb872(0x151)+Time_to_Expiry),TotalLegs_Count=_0x430872[_0x7fb872(0x123)],LOT_SIZE=_0x430872['lot_size'],CURRENT_SPOT=_0x430872['Current_Spot'];for(let _0x213167=CURRENT_SPOT-0x514;_0x213167<CURRENT_SPOT+0x514;_0x213167=_0x213167+0xa){TOTAL_PAYOFF_FOR_ALL_LEGS=0x0;for(let _0x222c40=0x0;_0x222c40<TotalLegs_Count;_0x222c40++){text=_0x7fb872(0x142)+_0x222c40+'\x20'+_0x430872['txns'][_0x222c40][_0x7fb872(0x128)]+'--'+_0x430872[_0x7fb872(0x11a)][_0x222c40]['expiry_date']+'--'+_0x7fb872(0x156)+_0x430872[_0x7fb872(0x11a)][_0x222c40]['orig_txn_price'],Txn_Strike=_0x430872['txns'][_0x222c40][_0x7fb872(0x135)];var _0x38b546=new Date(_0x430872['txns'][_0x222c40][_0x7fb872(0x116)]),_0xcd9619=new Date();switch(_0x2fb5ab){case'EXPIRY':gpos_Time_to_Expiry=dateDiffInDays(_0x38b546,_0xcd9619)-Time_to_Expiry+1e-25;break;case _0x7fb872(0x153):gpos_Time_to_Expiry=dateDiffInDays(_0x38b546,_0xcd9619)+1e-25;break;case _0x7fb872(0x130):gpos_Time_to_Expiry=dateDiffInDays(_0x38b546,_0xcd9619)-_0x2b99c6+1e-25;break;}Txn_PE_CE_FLAG=_0x430872[_0x7fb872(0x11a)][_0x222c40][_0x7fb872(0x128)],Txn_expiry_date=_0x430872[_0x7fb872(0x11a)][_0x222c40]['expiry_date'],Txn_Buy_Sell_Flag=_0x430872['txns'][_0x222c40][_0x7fb872(0x146)],Txn_INITIAL_PRICE=_0x430872[_0x7fb872(0x11a)][_0x222c40]['orig_txn_price'],Txn_iv=_0x430872[_0x7fb872(0x11a)][_0x222c40]['iv'],BS_Answer_Key=bs_gold(_0x213167,Txn_Strike,gpos_Time_to_Expiry,Txn_iv,0x7),call_premium=BS_Answer_Key[_0x7fb872(0x12f)],put_premium=BS_Answer_Key[_0x7fb872(0x11f)],Txn_PE_CE_FLAG==='PE'?SQUARE_OFF_PRICE=put_premium:SQUARE_OFF_PRICE=call_premium,Txn_Buy_Sell_Flag==='B'?LEG_PAYOFF=SQUARE_OFF_PRICE-Txn_INITIAL_PRICE:LEG_PAYOFF=Txn_INITIAL_PRICE-SQUARE_OFF_PRICE,TOTAL_PAYOFF_FOR_ALL_LEGS=TOTAL_PAYOFF_FOR_ALL_LEGS+LEG_PAYOFF,debug_text=_0x7fb872(0x159)+_0x222c40+':\x20'+Txn_PE_CE_FLAG+_0x7fb872(0x155)+_0x213167+_0x7fb872(0x157)+Txn_Strike+'--'+Txn_expiry_date+'--'+_0x7fb872(0x156)+Txn_INITIAL_PRICE+'BS\x20Premium\x20('+SQUARE_OFF_PRICE+_0x7fb872(0x14a)+LEG_PAYOFF+')';}_0x5a492c['data'][_0x7fb872(0x11d)]({'index':_0x213167,'payoff':TOTAL_PAYOFF_FOR_ALL_LEGS,'payoff_fulllot':TOTAL_PAYOFF_FOR_ALL_LEGS*LOT_SIZE}),_0x2fb5ab==='EXPIRY'&&(_0x2c57b5<TOTAL_PAYOFF_FOR_ALL_LEGS&&(_0x2c57b5=TOTAL_PAYOFF_FOR_ALL_LEGS),_0x621da9>TOTAL_PAYOFF_FOR_ALL_LEGS&&(_0x621da9=TOTAL_PAYOFF_FOR_ALL_LEGS));}_0x5a492c[_0x7fb872(0x113)]=(_0x2c57b5*LOT_SIZE)[_0x7fb872(0x145)](0x2),_0x5a492c['max_loss']=(_0x621da9*LOT_SIZE)[_0x7fb872(0x145)](0x2),_0x5a492c[_0x7fb872(0x14c)]=(_0x2c57b5/_0x621da9)[_0x7fb872(0x145)](0x2);if(_0x2fb5ab===_0x7fb872(0x115)){[Max_profit_surely,Max_loss_surely]=fn_check_UnlimitedPayoff(_0x430872);Max_profit_surely===_0x7fb872(0x137)&&(_0x5a492c[_0x7fb872(0x113)]='Unlimited');Max_loss_surely===_0x7fb872(0x137)&&(_0x5a492c[_0x7fb872(0x152)]=_0x7fb872(0x137));_0x5a492c['BKEven']=breakeven_calc_on_expiry(_0x430872),BKEven_Text='';for(let _0x458d1a=0x0;_0x458d1a<_0x5a492c[_0x7fb872(0x14e)][_0x7fb872(0x12a)];_0x458d1a++){_0x458d1a===0x0?BKEven_Text=_0x5a492c[_0x7fb872(0x14e)][_0x458d1a][_0x7fb872(0x150)]:BKEven_Text=BKEven_Text+','+_0x5a492c[_0x7fb872(0x14e)][_0x458d1a][_0x7fb872(0x150)];}_0x5a492c[_0x7fb872(0x12c)]=BKEven_Text;}return _0x2fb5ab===_0x7fb872(0x115)&&console[_0x7fb872(0x11b)](_0x5a492c),_0x5a492c;}
